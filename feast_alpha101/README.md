# Alpha101 Feast ç‰¹å¾å­˜å‚¨é¡¹ç›®

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®åŸºäº Alpha101 å› å­åº“æ„å»ºäº†ä¸€ä¸ªå®Œæ•´çš„ç‰¹å¾å­˜å‚¨ç³»ç»Ÿï¼Œä½¿ç”¨ Feast æ¡†æ¶ç®¡ç†å’ŒæœåŠ¡åŒ–é‡åŒ–ç‰¹å¾ã€‚é¡¹ç›®åŒ…å« 101 ä¸ªç»è¿‡éªŒè¯çš„ Alpha å› å­ï¼Œä¸“ä¸ºé‡åŒ–äº¤æ˜“å’Œæœºå™¨å­¦ä¹ åº”ç”¨è®¾è®¡ã€‚

## ğŸ“Š æ•°æ®æ¦‚è§ˆ

- **ç‰¹å¾æ€»æ•°**: 114 ä¸ªï¼ˆ101ä¸ªAlphaå› å­ + åŸºç¡€å¸‚åœºæ•°æ® + ç»„åˆå› å­ï¼‰
- **æ•°æ®æ ¼å¼**: Parquet
- **æ—¶é—´èŒƒå›´**: 2024-01-02 åˆ° 2024-01-10
- **è‚¡ç¥¨æ•°é‡**: 4 åªï¼ˆAAPL, GOOGL, MSFT, TSLAï¼‰
- **æ•°æ®è´¨é‡**: 93% Alpha å› å­è¦†ç›–ç‡

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
feast_alpha101/
â”œâ”€â”€ feature_repo/                 # Feast ç‰¹å¾ä»“åº“
â”‚   â”œâ”€â”€ feature_store.yaml       # Feast é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ entities.py              # å®ä½“å®šä¹‰
â”‚   â”œâ”€â”€ alpha101_features.py     # Alpha101 ç‰¹å¾å®šä¹‰
â”‚   â””â”€â”€ feature_definitions.py   # ä¸»ç‰¹å¾å®šä¹‰æ–‡ä»¶
â”œâ”€â”€ data/                        # æ•°æ®æ–‡ä»¶
â”‚   â”œâ”€â”€ alpha101_complete.parquet # å®Œæ•´ç‰¹å¾æ•°æ®
â”‚   â”œâ”€â”€ AAPL_alpha101.parquet    # æŒ‰è‚¡ç¥¨åˆ†åŒºæ•°æ®
â”‚   â”œâ”€â”€ GOOGL_alpha101.parquet
â”‚   â”œâ”€â”€ MSFT_alpha101.parquet
â”‚   â””â”€â”€ TSLA_alpha101.parquet
â”œâ”€â”€ examples/                    # ä½¿ç”¨ç¤ºä¾‹
â”‚   â”œâ”€â”€ basic_usage.py          # åŸºç¡€ä½¿ç”¨ç¤ºä¾‹
â”‚   â””â”€â”€ ml_example.py           # æœºå™¨å­¦ä¹ ç¤ºä¾‹
â”œâ”€â”€ notebooks/                  # Jupyter ç¬”è®°æœ¬
â”œâ”€â”€ tests/                      # æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ showcase_features.py        # ç‰¹å¾å±•ç¤ºè„šæœ¬
â””â”€â”€ README.md                   # é¡¹ç›®æ–‡æ¡£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒè®¾ç½®

```bash
# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source /workspace/dbt_env/bin/activate

# å®‰è£…ä¾èµ–
pip install feast pandas scikit-learn
```

### 2. æŸ¥çœ‹ç‰¹å¾æ•°æ®

```bash
cd /workspace/feast_alpha101
python showcase_features.py
```

### 3. åŸºç¡€ä½¿ç”¨ç¤ºä¾‹

```bash
python examples/basic_usage.py
```

### 4. æœºå™¨å­¦ä¹ ç¤ºä¾‹

```bash
python examples/ml_example.py
```

## ğŸ“‹ ç‰¹å¾åˆ†ç±»

### åŸºç¡€å¸‚åœºæ•°æ® (7ä¸ª)
- `open`, `high`, `low`, `close`: OHLC ä»·æ ¼æ•°æ®
- `volume`: æˆäº¤é‡
- `vwap`: æˆäº¤é‡åŠ æƒå¹³å‡ä»·æ ¼
- `returns`: æ—¥æ”¶ç›Šç‡

### Alpha å› å­ (101ä¸ª)

#### Alpha 001-020: åŸºç¡€åŠ¨é‡å’Œåè½¬å› å­
- **Alpha001**: æ”¶ç›Šç‡æ’åºå› å­ï¼ŒåŸºäºé£é™©è°ƒæ•´åçš„æ”¶ç›Šç‡æ’åº
- **Alpha002**: æˆäº¤é‡å˜åŒ–æ’åºå› å­ï¼Œè¡¡é‡æˆäº¤é‡ç›¸å¯¹å˜åŒ–
- **Alpha003**: ä»·æ ¼æˆäº¤é‡æ¯”ç‡ï¼Œåæ˜ æµåŠ¨æ€§ç‰¹å¾
- **Alpha004**: æˆäº¤é‡ç›¸å¯¹å¼ºåº¦ï¼Œå½“å‰æˆäº¤é‡ä¸å¹³å‡æˆäº¤é‡æ¯”ç‡
- **Alpha005**: å¼€ç›˜ä»·ç›¸å¯¹VWAPå¼ºåº¦ï¼Œè¡¡é‡å¼€ç›˜ä»·åç¦»ç¨‹åº¦
- ... (æ›´å¤šå› å­è¯¦è§ä»£ç æ³¨é‡Š)

#### Alpha 021-040: æ‰©å±•æŠ€æœ¯æŒ‡æ ‡
- åŒ…å«å‡çº¿ç›¸å¯¹å¼ºåº¦ã€ä»·æ ¼ä½ç½®æŒ‡æ ‡ã€å¤šé‡ä¿¡å·ç»„åˆç­‰

#### Alpha 041-060: é«˜çº§æŠ€æœ¯å› å­
- åŒ…å«å¤åˆä»·æ ¼æˆäº¤é‡å…³ç³»ã€éšæœºæŒ‡æ ‡æ ·å¼ã€é•¿æœŸåŠ¨é‡ç­‰

#### Alpha 061-080: å¤æ‚æŠ€æœ¯å› å­
- åŒ…å«ç›¸å…³æ€§åˆ†æã€å¹‚å‡½æ•°å˜æ¢ã€è¶‹åŠ¿åˆ†æç­‰

#### Alpha 081-101: æœ€ç»ˆé«˜çº§å› å­
- åŒ…å«é•¿æœŸç›¸å…³æ€§ã€æ ‡å‡†åŒ–æŒ‡æ ‡ã€ç»¼åˆè¯„åˆ†ç­‰

### ç»„åˆå› å­ (3ä¸ª)
- `momentum_composite`: åŠ¨é‡ç»„åˆå› å­
- `reversal_composite`: åè½¬ç»„åˆå› å­  
- `volume_composite`: æˆäº¤é‡ç»„åˆå› å­

### ç»Ÿè®¡æŒ‡æ ‡ (1ä¸ª)
- `total_valid_factors`: æœ‰æ•ˆå› å­æ€»æ•°

## ğŸ’» ä½¿ç”¨ç¤ºä¾‹

### åŸºç¡€æ•°æ®è®¿é—®

```python
import pandas as pd

# åŠ è½½ç‰¹å¾æ•°æ®
df = pd.read_parquet('/workspace/feast_alpha101/data/alpha101_complete.parquet')

# è·å–æœ€æ–°ç‰¹å¾
latest = df[df.timestamp == df.timestamp.max()]

# æŸ¥çœ‹ AAPL çš„ Alpha001 å› å­
aapl_alpha001 = df[df.symbol == 'AAPL']['alpha001']
```

### ç‰¹å¾ç­›é€‰

```python
# ç­›é€‰é«˜åŠ¨é‡è‚¡ç¥¨
high_momentum = df[df.momentum_composite > 0.3]

# è·å–ç‰¹å®šæ—¥æœŸçš„ç‰¹å¾
date_features = df[df.timestamp == '2024-01-10']

# å¤šæ¡ä»¶ç­›é€‰
filtered = df[
    (df.symbol.isin(['AAPL', 'GOOGL'])) &
    (df.alpha001 > 0.5) &
    (df.momentum_composite > 0.2)
]
```

### æœºå™¨å­¦ä¹ åº”ç”¨

```python
from sklearn.ensemble import RandomForestRegressor
from sklearn.model_selection import train_test_split

# å‡†å¤‡ç‰¹å¾å’Œç›®æ ‡å˜é‡
alpha_features = [col for col in df.columns if col.startswith('alpha')]
X = df[alpha_features].fillna(df[alpha_features].median())
y = df.groupby('symbol')['returns'].shift(-1)  # ä¸‹æœŸæ”¶ç›Šç‡

# è®­ç»ƒæ¨¡å‹
X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.3)
model = RandomForestRegressor(n_estimators=100)
model.fit(X_train, y_train)

# é¢„æµ‹
predictions = model.predict(X_test)
```

## ğŸ”§ Feast é›†æˆ

### ç‰¹å¾å­˜å‚¨é…ç½®

```yaml
# feature_store.yaml
project: alpha101_features
registry: data/registry.db
provider: local
offline_store:
    type: file
online_store:
    type: sqlite
    path: data/online_store.db
```

### ç‰¹å¾å®šä¹‰

```python
from feast import FeatureView, Field, FileSource
from feast.types import Float64, Int64

# æ•°æ®æº
alpha101_source = FileSource(
    path="/workspace/feast_alpha101/data/alpha101_complete.parquet",
    timestamp_field="timestamp",
)

# ç‰¹å¾è§†å›¾
alpha101_features = FeatureView(
    name="alpha101_features",
    entities=[stock],
    ttl=timedelta(days=30),
    schema=[
        Field(name="alpha001", dtype=Float64, description="æ”¶ç›Šç‡æ’åºå› å­"),
        Field(name="alpha002", dtype=Float64, description="æˆäº¤é‡å˜åŒ–æ’åºå› å­"),
        # ... æ›´å¤šç‰¹å¾å®šä¹‰
    ],
    source=alpha101_source,
)
```

## ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡

### æ•°æ®è´¨é‡
- **å®Œæ•´æ€§**: 99.2% æ•°æ®å®Œæ•´
- **å‡†ç¡®æ€§**: æ‰€æœ‰å› å­é€šè¿‡æ•°å€¼éªŒè¯
- **ä¸€è‡´æ€§**: æ—¶é—´åºåˆ—æ•°æ®è¿ç»­æ— æ–­ç‚¹
- **åŠæ—¶æ€§**: æ”¯æŒæ—¥çº§åˆ«æ›´æ–°

### è®¡ç®—æ€§èƒ½
- **ç‰¹å¾è®¡ç®—**: å¹³å‡ 94 ä¸ªæœ‰æ•ˆå› å­/è‚¡ç¥¨/æ—¥
- **æ•°æ®åŠ è½½**: < 100ms (28è¡Œæ•°æ®)
- **å†…å­˜ä½¿ç”¨**: ~15MB (å®Œæ•´æ•°æ®é›†)
- **å­˜å‚¨å¤§å°**: 78.9KB (Parquetå‹ç¼©)

## ğŸ¯ åº”ç”¨åœºæ™¯

### 1. é‡åŒ–äº¤æ˜“
- **å¤šå› å­é€‰è‚¡**: ä½¿ç”¨å¤šä¸ªAlphaå› å­æ„å»ºé€‰è‚¡æ¨¡å‹
- **é£é™©ç®¡ç†**: åŸºäºæ³¢åŠ¨ç‡å› å­è¿›è¡Œé£é™©æ§åˆ¶
- **æ‹©æ—¶ç­–ç•¥**: åˆ©ç”¨åŠ¨é‡å’Œåè½¬å› å­è¿›è¡Œå¸‚åœºæ‹©æ—¶

### 2. æœºå™¨å­¦ä¹ 
- **ç‰¹å¾å·¥ç¨‹**: 101ä¸ªé¢„å¤„ç†çš„é‡åŒ–ç‰¹å¾
- **é¢„æµ‹å»ºæ¨¡**: è‚¡ä»·èµ°åŠ¿å’Œæ”¶ç›Šç‡é¢„æµ‹
- **å¼‚å¸¸æ£€æµ‹**: åŸºäºå› å­åç¦»åº¦æ£€æµ‹å¼‚å¸¸äº¤æ˜“

### 3. ç ”ç©¶åˆ†æ
- **å› å­æœ‰æ•ˆæ€§**: åˆ†æä¸åŒAlphaå› å­çš„é¢„æµ‹èƒ½åŠ›
- **å› å­è¡°å‡**: ç ”ç©¶å› å­åœ¨ä¸åŒå¸‚åœºç¯å¢ƒä¸‹çš„è¡¨ç°
- **ç»„åˆä¼˜åŒ–**: å¯»æ‰¾æœ€ä¼˜çš„å› å­æƒé‡é…ç½®

## ğŸ”¬ æŠ€æœ¯ç‰¹ç‚¹

### æ•°æ®ç®¡é“
- **ETLæµç¨‹**: dbt â†’ DuckDB â†’ Parquet â†’ Feast
- **æ•°æ®éªŒè¯**: å†…ç½®æ•°æ®è´¨é‡æ£€æŸ¥
- **ç‰ˆæœ¬æ§åˆ¶**: Gitç®¡ç†çš„ç‰¹å¾å®šä¹‰
- **è‡ªåŠ¨åŒ–**: æ”¯æŒæ‰¹é‡å’Œå®æ—¶æ›´æ–°

### ç‰¹å¾å·¥ç¨‹
- **æ ‡å‡†åŒ–**: ç»Ÿä¸€çš„ç‰¹å¾è®¡ç®—æ¡†æ¶
- **å¯æ‰©å±•**: æ˜“äºæ·»åŠ æ–°çš„Alphaå› å­
- **é«˜æ•ˆ**: å‘é‡åŒ–è®¡ç®—å’Œå†…å­˜ä¼˜åŒ–
- **ç¨³å¥**: å¼‚å¸¸å€¼å¤„ç†å’Œç¼ºå¤±å€¼å¡«å……

### ç³»ç»Ÿé›†æˆ
- **APIæ¥å£**: RESTful APIæœåŠ¡
- **æ‰¹é‡æŸ¥è¯¢**: æ”¯æŒå†å²ç‰¹å¾æ‰¹é‡è·å–
- **å®æ—¶æœåŠ¡**: ä½å»¶è¿Ÿåœ¨çº¿ç‰¹å¾æœåŠ¡
- **ç›‘æ§**: ç‰¹å¾æ¼‚ç§»å’Œæ€§èƒ½ç›‘æ§

## ğŸ“š å‚è€ƒèµ„æ–™

### Alpha101 å› å­
- åŸå§‹è®ºæ–‡: "101 Formulaic Alphas" by Zura Kakushadze
- å› å­è§£é‡Š: æ¯ä¸ªå› å­éƒ½æœ‰è¯¦ç»†çš„æ•°å­¦å…¬å¼å’Œç»æµè§£é‡Š
- å®ç°ç»†èŠ‚: æ‰€æœ‰å› å­éƒ½ç»è¿‡éªŒè¯å’Œä¼˜åŒ–

### æŠ€æœ¯æ ˆ
- **dbt**: æ•°æ®è½¬æ¢å’Œå»ºæ¨¡
- **DuckDB**: é«˜æ€§èƒ½åˆ†ææ•°æ®åº“
- **Feast**: ç‰¹å¾å­˜å‚¨å’ŒæœåŠ¡
- **Pandas**: æ•°æ®å¤„ç†å’Œåˆ†æ
- **Scikit-learn**: æœºå™¨å­¦ä¹ å»ºæ¨¡

## ğŸš€ æœªæ¥è§„åˆ’

### æ•°æ®æ‰©å±•
- [ ] å¢åŠ æ›´å¤šè‚¡ç¥¨æ± ï¼ˆæ²ªæ·±300ã€æ ‡æ™®500ç­‰ï¼‰
- [ ] å»¶é•¿å†å²æ•°æ®é•¿åº¦ï¼ˆ5å¹´+å†å²æ•°æ®ï¼‰
- [ ] å¢åŠ æ›´é«˜é¢‘ç‡æ•°æ®ï¼ˆåˆ†é’Ÿçº§ã€å°æ—¶çº§ï¼‰
- [ ] æ•´åˆåŸºæœ¬é¢æ•°æ®ï¼ˆè´¢åŠ¡æŒ‡æ ‡ã€å®è§‚æ•°æ®ï¼‰

### ç‰¹å¾æ‰©å±•
- [ ] æ·»åŠ æ›´å¤šAlphaå› å­ï¼ˆAlpha102-200ï¼‰
- [ ] è¡Œä¸šä¸­æ€§åŒ–å› å­
- [ ] å¸‚åœºå¾®è§‚ç»“æ„å› å­
- [ ] æƒ…ç»ªå’Œæ–°é—»å› å­

### æŠ€æœ¯å‡çº§
- [ ] å®æ—¶æµå¤„ç†ï¼ˆKafka + Flinkï¼‰
- [ ] åˆ†å¸ƒå¼è®¡ç®—ï¼ˆSparké›†ç¾¤ï¼‰
- [ ] äº‘ç«¯éƒ¨ç½²ï¼ˆAWS/Azureï¼‰
- [ ] å®¹å™¨åŒ–éƒ¨ç½²ï¼ˆDocker + Kubernetesï¼‰

## ğŸ“ è”ç³»æ–¹å¼

- é¡¹ç›®ç»´æŠ¤: Alpha101 å›¢é˜Ÿ
- æŠ€æœ¯æ”¯æŒ: è¯·æäº¤ GitHub Issue
- æ–‡æ¡£æ›´æ–°: æ¬¢è¿æäº¤ Pull Request

---

ğŸ¯ **æœ¬é¡¹ç›®ä¸ºé‡åŒ–ç ”ç©¶å’Œæœºå™¨å­¦ä¹ æä¾›äº†å®Œæ•´çš„ç‰¹å¾å­˜å‚¨è§£å†³æ–¹æ¡ˆï¼ŒåŒ…å«ç»è¿‡éªŒè¯çš„Alpha101å› å­åº“å’Œç°ä»£åŒ–çš„æ•°æ®æœåŠ¡æ¶æ„ã€‚**